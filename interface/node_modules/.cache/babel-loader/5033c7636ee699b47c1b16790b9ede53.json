{"ast":null,"code":"import _slicedToArray from \"/Users/carsonbrown/Documents/Programming/Pin/interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/carsonbrown/Documents/Programming/Pin/interface/src/components/addTrip.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { ListItemAvatar } from '@material-ui/core';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport useAxios from 'axios-hooks';\nimport axios from 'axios';\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n    zIndex: 100\n  },\n  input: {\n    display: 'none'\n  }\n}));\n\nfunction AddTrip() {\n  function submitFiles() {\n    let data = FormData();\n    let counter = 0;\n    console.log('in hurr');\n    documents.map(file => {\n      data.append('images[' + counter + ']', file, file.name);\n      counter++;\n    });\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    axios.post('http://localhost:7373/upload', data, config).then(res => {\n      console.log(res);\n\n      if (res.data) {\n        console.log(\"succeed\");\n      } else {\n        console.log(\"failed\");\n      }\n    });\n  }\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        tripUpload = _useState2[0],\n        setTripUpload = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        documents = _useState4[0],\n        setDocuments = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        tripName = _useState6[0],\n        setTripName = _useState6[1];\n\n  const handleTripUploadOpen = () => {\n    setTripUpload(true);\n  };\n\n  const handleTripUploadClose = () => {\n    setTripUpload(false);\n  };\n\n  function arrayRemove(arr, value) {\n    return arr.filter(function (ele) {\n      return ele.name !== value;\n    });\n  }\n\n  function removeDocument(docName) {\n    setDocuments(arrayRemove(documents, docName));\n  }\n\n  const classes = useStyles();\n  return React.createElement(\"div\", {\n    className: classes.fab,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Fab, {\n    color: \"primary\",\n    \"aria-label\": \"add\",\n    onClick: handleTripUploadOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(AddIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })), React.createElement(Dialog, {\n    open: tripUpload,\n    onClose: () => {\n      handleTripUploadClose();\n      setDocuments([]);\n    },\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    margin: \"dense\",\n    id: \"name\",\n    label: \"Trip Name\",\n    type: \"tripName\",\n    fullWidth: true,\n    size: \"medium\",\n    onChange: e => {\n      setTripName(e);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, documents.map(document => React.createElement(ListItem, {\n    button: true,\n    key: document.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(ListItemAvatar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(AttachFileIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(ListItemText, {\n    primary: document.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(ListItemSecondaryAction, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(ClearIcon, {\n    onClick: () => {\n      console.log(document.name);\n      removeDocument(document.name);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  })))))), React.createElement(\"input\", {\n    accept: \"image/*\",\n    className: classes.input,\n    id: \"file\",\n    multiple: true,\n    size: \"medium\",\n    type: \"file\",\n    onChange: e => {\n      setDocuments([...e.target.files]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(Button, {\n    raised: true,\n    component: \"span\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, \"Upload\"))), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: () => {\n      handleTripUploadClose();\n      setDocuments([]);\n    },\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: () => {\n      handleTripUploadClose();\n      submitFiles();\n    },\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Add\"))));\n}\n\nexport default AddTrip;","map":{"version":3,"sources":["/Users/carsonbrown/Documents/Programming/Pin/interface/src/components/addTrip.js"],"names":["React","useState","makeStyles","Fab","AddIcon","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","List","ListItem","ListItemSecondaryAction","ListItemText","IconButton","ListItemAvatar","AttachFileIcon","ClearIcon","useAxios","axios","useStyles","theme","fab","position","bottom","spacing","right","zIndex","input","display","AddTrip","submitFiles","data","FormData","counter","console","log","documents","map","file","append","name","config","headers","post","then","res","tripUpload","setTripUpload","setDocuments","tripName","setTripName","handleTripUploadOpen","handleTripUploadClose","arrayRemove","arr","value","filter","ele","removeDocument","docName","classes","e","document","target","files","button"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport { ListItemAvatar } from '@material-ui/core';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport useAxios from 'axios-hooks';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n        zIndex: 100,\n    },\n    input: {\n        display: 'none',\n    },\n}));\n\n\n\n\n\nfunction AddTrip() {\n\n    function submitFiles(){\n        let data = FormData();\n        let counter = 0;\n        console.log('in hurr');\n\n        documents.map(file => {\n            data.append('images[' + counter + ']', file, file.name);\n            counter++;\n        });\n\n        const config = {\n            headers: { 'content-type': 'multipart/form-data' }\n        }\n\n        axios.post('http://localhost:7373/upload', data, config)\n        .then(res => {\n            console.log(res);\n            if (res.data) {\n            console.log(\"succeed\");\n            }\n            else{\n            console.log(\"failed\");\n            }\n        })\n    }\n\n    const [tripUpload, setTripUpload] = useState(null);\n    const [documents, setDocuments] = useState([]);\n    const [tripName, setTripName] = useState(null);\n\n    const handleTripUploadOpen = () => {\n        setTripUpload(true);\n    }\n    const handleTripUploadClose = () => {\n        setTripUpload(false);\n    }\n\n    function arrayRemove(arr, value) {\n\n        return arr.filter(function(ele){\n            return ele.name !== value;\n        });\n     \n     }\n\n    function removeDocument(docName) {\n        setDocuments(arrayRemove(documents, docName));\n    }\n\n    const classes = useStyles();\n\n    return (\n        <div className={classes.fab} >\n            <Fab color=\"primary\" aria-label=\"add\" onClick={handleTripUploadOpen} >\n                <AddIcon />\n            </Fab>\n            <Dialog open={tripUpload} onClose={() => { handleTripUploadClose(); setDocuments([]); }} aria-labelledby=\"form-dialog-title\">\n\n                <DialogTitle id=\"form-dialog-title\">\n                    <TextField\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Trip Name\"\n                        type=\"tripName\"\n                        fullWidth\n                        size='medium'\n                        onChange={e => { setTripName(e)} }\n                    />\n                </DialogTitle>\n\n                <DialogContent>\n                    <List >\n                        {documents.map(document => (\n                            <ListItem button key={document.name}>\n                                <ListItemAvatar>\n                                    <AttachFileIcon />\n                                </ListItemAvatar>\n                                <ListItemText primary={document.name} />\n                                <ListItemSecondaryAction >\n                                    <IconButton   >\n                                        <ClearIcon onClick={() => {console.log(document.name);removeDocument(document.name);}} />\n                                    </IconButton>\n                                </ListItemSecondaryAction>\n                            </ListItem>\n                        )\n                        )}\n                    </List>\n                    <input\n                        accept=\"image/*\"\n                        className={classes.input}\n                        id=\"file\"\n                        multiple\n                        size='medium'\n                        type=\"file\"\n                        onChange={e => { setDocuments([...e.target.files]); }}\n                    />\n                    <label htmlFor=\"file\">\n                        <Button raised component=\"span\" className={classes.button} >\n                            Upload\n                        </Button>\n                    </label>\n\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => { handleTripUploadClose(); setDocuments([]); }} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={() => {handleTripUploadClose(); submitFiles(); }} color=\"primary\">\n                        Add\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\n\nexport default AddTrip;"]},"metadata":{},"sourceType":"module"}